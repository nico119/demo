<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.Mapper.TestMapper">

    <select id="checkUserInfo" parameterType="com.example.demo.Dto.UserDTO" resultType="com.example.demo.Dto.UserDTO">
        select * from user where name=(#{name}) and password=(#{password})
    </select>

    <insert id="insertUserList" parameterType="com.example.demo.Dto.UserDTO">
        insert into user (name,password) values (#{name}, #{password})
    </insert>

    <insert id="insertContent" parameterType="com.example.demo.Dto.PostDTO">
        insert into post (title, content,delete_password, writer,user_id) value (#{title},#{content},#{delete_password},#{writer},#{user_id})
    </insert>

    <select id="getPost" resultType="com.example.demo.Dto.PostDTO">
        SELECT id, title,content, delete_password,date, writer,user_id FROM post WHERE deleteYn ='N'
     </select>

    <select id="viewPostDetail" resultType="com.example.demo.Dto.PostDTO" parameterType="com.example.demo.Dto.PostDTO">
        SELECT id ,title, content, delete_password,writer,user_id FROM post  WHERE id = (#{id})
    </select>

    <select id="checkWriter" parameterType="com.example.demo.Dto.PostDTO" resultType="com.example.demo.Dto.PostDTO">
        select * from post where name=(#{name}) and password=(#{password})
    </select>

    <update id="updatePost" parameterType="com.example.demo.Dto.PostDTO">
        update post SET title = (#{title}), content = (#{content})  where id=(#{id})
    </update>

    <update id="deletePost" parameterType="int">
        update post SET deleteYn = 'Y' where id=(#{id})
    </update>

</mapper>